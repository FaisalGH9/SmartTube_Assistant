{% extends "base.html" %}

{% block content %}
  <h2 class="text-center">SmartTube Assistant</h2>
  <p class="text-center">Enter the YouTube video URL to start processing:</p>

  <form method="POST" action="{{ url_for('home') }}" id="home-form" onsubmit="showSpinner('spinner', 'home-form')">
    <div class="mb-3">
      <label for="youtube_url" class="form-label">YouTube Video URL</label>
      <input type="text" class="form-control" id="youtube_url" name="youtube_url" required placeholder="https://www.youtube.com/watch?v=...">
    </div>
    <div class="mb-3">
      <label for="video_language" class="form-label">Select Video Language</label>
      <select class="form-select" id="video_language" name="video_language" required>
        <option value="auto">Auto Detect</option>
        <option value="en">English</option>
        <option value="ar">Arabic</option>
        <option value="fr">French</option>
        <option value="es">Spanish</option>
        <option value="de">German</option>
      </select>
    </div>
    <button type="submit" class="btn btn-danger w-100">Process Video</button>
  </form>

  <!-- Beautiful Spinner -->
  <div id="spinner" class="text-center mt-4" style="display: none;">
    <div class="spinner-border text-danger" style="width: 3rem; height: 3rem;" role="status"></div>
    <p class="mt-2 text-muted">Processing video, please wait...</p>
  </div>

  {% if terminal_output %}
    <div class="mt-4">
      <h4>Terminal Output:</h4>
      <pre>{{ terminal_output }}</pre>
    </div>
  {% endif %}
{% endblock %}
